<!DOCTYPE html>
<html lang="ko" dir="ltr">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU" crossorigin="anonymous">
  <style media="screen">
  .bg-kudark {
    background-color: rgb(3, 107, 63);
  }
  .bg-kulight {
    background-color: rgb(184, 243, 41);
  }
  .bg-ku {
    background-color: rgb(33, 186, 49);
  }
  </style>
  <title>Table of Ideal</title>
</head>
<body>
  <header class="navbar navbar-expand navbar-dark bg-kudark mb-3 sticky-top">
    <div class="container-fluid">
      <a class="navbar-brand" href="#">Table of Ideal</a>
      <div class="collapse navbar-collapse">
        <ul class="navbar-nav">
          <li class="nav-item">
            <a href="mailto:genre_crusher.0l@icloud.com" class="nav-link">제작자</a>
          </li>
        </ul>
      </div>
      <span class="navber-text"></span>
    </div>
  </header>
  <script type="text/javascript">
  var answer = {'qq': 1,}
  function select(x,y) {
    answer[x] = y
  }
  </script>
  <main class="container" style="max-width: 60rem;">
    <script type="text/javascript">
    // 질문 생성
    var myqset = [];
    myqset.push(["연하 좋아","동갑 좋아","연상 좋아"]);
    myqset.push(["집돌이/집순이","밖돌이/밖순이"]);
    myqset.push(["마른 좋아","보통 좋아","통통 좋아"]);
    myqset.push(["무쌍 좋아","속쌍 좋아","겉쌍 좋아"]);
    myqset.push(["츤데레 좋아","츤데레 싫어"]);
    myqset.push(["귀여운 사람 좋아","귀여운 사람 싫어"]);
    myqset.push(["안경 좋아","안경 싫어"]);
    myqset.push(["아이폰 좋아","안드로이드 좋아"]);
    myqset.push(["칼답 최고","조금은 괜찮아","신경 안써"]);
    var yourqset = [];
    yourqset.push(["무쌍 좋아","다 좋아","유쌍 좋아"]);
    // 답변 생성
    var myanswer = [];
    var youranswer = [];
    </script>
    <article class="row g-3 mb-3" ondragstart="return false" oncontextmenu="return false" onselectstart="return false">
      <section class="col-12 col-sm-6">
        <div class="card border-success">
          <div class="card-header bg-success text-light">
            나는 이런 사람이에요
          </div>
          <form class="card-body p-1 pb-0">
            <script type="text/javascript">
            for (var i = 0; i < myqset.length; i++) {
              myanswer.push("");
              document.write("<div class=\"btn-group w-100 mb-1\">");
              for (var j = 0; j < myqset[i].length; j++) {
                document.write("<input id=\"myq"+i+"-"+j+"\" class=\"btn-check\" type=\"radio\" name=\"q"+i+"\" value=\""+j+"\"><label id=\"for-myq"+i+"-"+j+"\" class=\"btn btn-outline-success\" for=\"myq"+i+"-"+j+"\" onclick=\"myanswer["+i+"] = "+j+"\">"+myqset[i][j]+"</label>");
              }
              document.write("</div>");
            }
            </script>
          </form>
        </div>
      </section>
      <section class="col-12 col-sm-6">
        <div class="card border-success">
          <div class="card-header bg-success text-light">
            내가 원하는 너는...
          </div>
          <div class="card-body p-1 pb-0">
            <script type="text/javascript">
            for (var i = 0; i < yourqset.length; i++) {
              youranswer.push("");
              document.write("<div class=\"btn-group w-100 mb-1\">");
              for (var j = 0; j < yourqset[i].length; j++) {
                document.write("<input id=\"yourq"+i+"-"+j+"\" class=\"btn-check\" type=\"radio\" name=\"q"+i+"\" value=\""+j+"\"><label id=\"for-yourq"+i+"-"+j+"\" class=\"btn btn-outline-success\" for=\"yourq"+i+"-"+j+"\" onclick=\"youranswer["+i+"] = "+j+"\">"+yourqset[i][j]+"</label>");
              }
              document.write("</div>");
            }
            </script>
          </div>
        </div>
      </section>
      <section class="col-12">
        <div class="d-grid">
          <button class="btn btn-success" data-bs-toggle="modal" data-bs-target="#modal-share" onclick="result()">결과 공유</button>
        </div>
      </section>
    </article>
    <div id="modal-share" class="modal">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            아래 링크를 복사해서 공유하세요.
          </div>
          <div class="modal-body">
            <textarea id="share" rows="3" class="form-control"></textarea>
          </div>
        </div>
      </div>
    </div>
  </main>
  <script type="text/javascript">
  var url = window.location.origin + window.location.pathname;
  var parameter = window.location.search;
  for (var i = 0; i < myanswer.length; i++) {
    var getanswer = new URLSearchParams(parameter).get("myq"+i);
    myanswer[i] = getanswer;
    document.getElementById("myq"+i+"-"+getanswer).checked = true;
  }
  for (var i = 0; i < youranswer.length; i++) {
    var getanswer = new URLSearchParams(parameter).get("yourq"+i);
    youranswer[i] = getanswer;
    document.getElementById("yourq"+i+"-"+getanswer).checked = true;
  }
  function result() {
    var stream = "?result=page";
    for (var i = 0; i < myanswer.length; i++) {
      stream = stream+"&myq"+i+"="+myanswer[i];
    }
    for (var i = 0; i < youranswer.length; i++) {
      stream = stream+"&yourq"+i+"="+youranswer[i];
    }
    document.getElementById('share').innerText = url + stream;
  }
  </script>
  <footer class="py-3 bg-kulight">
    <div id="copyright" class="m-auto text-center">
      Copyright © 2021 KU-idea
    </div>
  </footer>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ" crossorigin="anonymous"></script>
</body>
</html>
