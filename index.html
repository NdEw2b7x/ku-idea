<!DOCTYPE html>
<html lang="ko" dir="ltr">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
  <style media="screen">
  .bg-kudark {
    background-color: rgb(3, 107, 63);
  }
  .bg-kulight {
    background-color: rgb(184, 243, 41);
  }
  .bg-ku {
    background-color: rgb(33, 186, 49);
  }
  </style>
  <title>이런 사람 어디있는 건대?</title>
</head>
<body>
  <header class="navbar navbar-expand navbar-dark bg-kudark mb-3">
    <div class="container-fluid">
      <a class="navbar-brand" href="#">이런 사람 어디있는 건대?</a>
      <div class="collapse navbar-collapse">
        <ul class="navbar-nav">
          <li class="nav-item">
            <a href="./" class="nav-link">초기화</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="mailto:genre_crusher.0l@icloud.com">제작자</a>
          </li>
        </ul>
      </div>
      <span class="navber-text"></span>
    </div>
  </header>
  <main class="container" style="max-width: 60rem;">
    <script type="text/javascript">
    // 질문 생성
    var myqset = [];
    myqset.push(["남자","여자"]);
    myqset.push(["20-23세","24-26세","27-29세"]);
    myqset.push(["153cm","161cm","169cm","177cm","185cm"]);
    myqset.push(["마른 사람","보통","통통한 사람"]);
    myqset.push(["집돌이/집순이","밖돌이/밖순이"]);
    myqset.push(["음주해요","음주 안해요"]);
    myqset.push(["무쌍","속쌍","겉쌍"]);
    myqset.push(["사진교환 가능","사진교환 불가능"]);
    myqset.push(["사진교환 가능","사진교환 불가능"]);
    myqset.push(["사진교환 가능","사진교환 불가능"]);
    myqset.push(["아이폰 써요","안드로이드 써요"]);
    myqset.push(["사진교환 가능","사진교환 불가능"]);
    myqset.push(["ENxx","ESxx","INxx","ISxx"]);
    myqset.push(["xxFJ","xxFP","xxTJ","xxTP"]);
    var yourqset = [];
    yourqset.push(["남자","여자"]);
    yourqset.push(["20-23세","24-26세","27-29세"]);
    yourqset.push(["153cm","161cm","169cm","177cm","185cm"]);
    yourqset.push(["마른 사람","보통","통통한 사람"]);
    yourqset.push(["집돌이/집순이","밖돌이/밖순이"]);
    yourqset.push(["무쌍","속쌍","겉쌍"]);
    yourqset.push(["츤데레 좋아","츤데레 싫어"]);
    yourqset.push(["귀여운 사람 좋아","귀여운 사람 싫어"]);
    yourqset.push(["안경 좋아","안경 싫어"]);
    yourqset.push(["아이폰 써요","안드로이드 써요"]);
    yourqset.push(["음주해요","음주 안해요"]);
    yourqset.push(["칼답 최고","조금은 괜찮아","신경 안써"]);
    yourqset.push(["연하 좋아","동갑 좋아","연상 좋아"]);
    yourqset.push(["사진교환 가능","사진교환 불가능"]);
    // 답변 생성
    var myanswer = [];
    var youranswer = [];
    </script>
    <article class="row g-3 mb-3" ondragstart="return false" oncontextmenu="return false" onselectstart="return false">
      <section class="col-12 col-sm-6">
        <div class="card border-primary">
          <div class="card-header bg-primary text-light">
            나는 이런 사람입니다.
          </div>
          <form class="card-body p-1 pb-0">
            <script type="text/javascript">
            for (var i = 0; i < myqset.length; i++) {
              myanswer.push([]);
              document.write("<div class=\"btn-group w-100 mb-1\" id=\"bg0"+i+"\">");
              for (var j = 0; j < myqset[i].length; j++) {
                myanswer[i].push("");
                document.write("<input id=\"0"+i+j+"\" class=\"btn-check\" type=\"checkbox\" name=\"q"+i+"-"+j+"\" value=\""+j+"\">");
                document.write("<label id=\"for-0"+i+j+"\" class=\"btn btn-outline-primary\" for=\"0"+i+j+"\" onclick=\"selectmy("+i+","+j+")\">"+myqset[i][j]+"</label>");
              }
              document.write("</div>");
            }
            </script>
          </form>
        </div>
      </section>
      <section class="col-12 col-sm-6">
        <div class="card border-success">
          <div class="card-header bg-success text-light">
            내가 바라는 상대는...
          </div>
          <div class="card-body p-1 pb-0">
            <script type="text/javascript">
            for (var i = 0; i < yourqset.length; i++) {
              youranswer.push([]);
              document.write("<div class=\"btn-group w-100 mb-1\" id=\"bg1"+i+"\">");
              for (var j = 0; j < yourqset[i].length; j++) {
                youranswer[i].push("");
                document.write("<input id=\"1"+i+j+"\" class=\"btn-check\" type=\"checkbox\" name=\"q"+i+"-"+j+"\" value=\""+j+"\">");
                document.write("<label id=\"for-1"+i+j+"\" class=\"btn btn-outline-success\" for=\"0"+i+j+"\" onclick=\"selectyour("+i+","+j+")\">"+yourqset[i][j]+"</label>");
              }
              document.write("</div>");
            }
            </script>
          </div>
        </div>
      </section>
      <section class="col-12">
        <div class="d-grid">
          <button class="btn btn-success" data-bs-toggle="modal" data-bs-target="#modal-share" onclick="result()">결과 공유</button>
        </div>
      </section>
    </article>
    <div id="modal-share" class="modal">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            아래 링크를 복사해서 공유하세요.
          </div>
          <div class="modal-body">
            <textarea id="share" rows="3" class="form-control"></textarea>
          </div>
        </div>
      </div>
    </div>
  </main>
  <script type="text/javascript">
  var url = window.location.origin + window.location.pathname;
  var parameter = window.location.search;
  for (var i = 0; i < myanswer.length; i++) {
    for (var j = 0; j < myanswer[i].length; j++) {
      var getanswer = new URLSearchParams(parameter).get("0"+i+j);
      console.log(getanswer);
      if (getanswer == 1) {
        myanswer[i][j] = 1;
        document.getElementById("0"+i+j).checked = true;
      } else {
        document.getElementById("0"+i+j).checked = false;
      }
    }
  }
  for (var i = 0; i < youranswer.length; i++) {
    for (var j = 0; j < youranswer[i].length; j++) {
      var getanswer = new URLSearchParams(parameter).get("1"+i+j);
      console.log(getanswer);
      if (getanswer == 1) {
        youranswer[i][j] = 1;
        document.getElementById("1"+i+j).checked = true;
      } else {
        document.getElementById("1"+i+j).checked = false;
      }
    }
  }
  function result() {
    var stream = "?result=";
    for (var i = 0; i < myanswer.length; i++) {
      for (var j = 0; j < myanswer[i].length; j++) {
        stream = stream+"&0"+i+j+"="+myanswer[i][j];
      }
    }
    for (var i = 0; i < youranswer.length; i++) {
      for (var j = 0; j < youranswer[i].length; j++) {
        stream = stream+"&1"+i+j+"="+youranswer[i][j];
      }
    }
    document.getElementById('share').innerText = url + stream;
  }
  function selectmy(x,y) {
    if (document.getElementById("0"+x+y).checked == false) {
      myanswer[x][y] = 1;
    } else {
      myanswer[x][y] = 0;
    }
    var stream = "?result=";
    for (var i = 0; i < myanswer.length; i++) {
      for (var j = 0; j < myanswer[i].length; j++) {
        stream = stream+"&0"+i+j+"="+myanswer[i][j];
      }
    }
    for (var i = 0; i < youranswer.length; i++) {
      for (var j = 0; j < youranswer[i].length; j++) {
        stream = stream+"&1"+i+j+"="+youranswer[i][j];
      }
    }
    console.log(Math.floor(x/10)*10);
    location.href = url + stream + "#bg0"+Math.floor(x/10)*10;
  }
  function selectyour(x,y) {
    if (document.getElementById("1"+x+y).checked == false) {
      youranswer[x][y] = 1;
    } else {
      youranswer[x][y] = 0;
    }
    var stream = "?result=";
    for (var i = 0; i < myanswer.length; i++) {
      for (var j = 0; j < myanswer[i].length; j++) {
        stream = stream+"&0"+i+j+"="+myanswer[i][j];
      }
    }
    for (var i = 0; i < youranswer.length; i++) {
      for (var j = 0; j < youranswer[i].length; j++) {
        stream = stream+"&1"+i+j+"="+youranswer[i][j];
      }
    }
    console.log(Math.floor(x/10)*10);
    location.href = url + stream + "#bg1"+Math.floor(x/10)*10;
  }
</script>
<footer class="py-3 bg-kulight">
  <div id="copyright" class="m-auto text-center">
    Copyright © 2021 이런 사람 어디있는 건대?
  </div>
</footer>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
</body>
</html>
