<!DOCTYPE html>
<html lang="ko" dir="ltr">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
  <style media="screen">
  .bg-kudark {
    background-color: rgb(3, 107, 63);
  }
  .bg-kulight {
    background-color: rgb(184, 243, 41);
  }
  .bg-ku {
    background-color: rgb(33, 186, 49);
  }
  </style>
  <title>이런 사람 어디있는 건대?</title>
</head>
<body>
  <header class="navbar navbar-expand navbar-dark bg-kudark mb-3 sticky-top">
    <div class="container-fluid">
      <a class="navbar-brand" href="#">이런 사람 어디있는 건대?</a>
      <div class="collapse navbar-collapse">
        <ul class="navbar-nav">
          <li class="nav-item">
            <a href="./" class="nav-link">초기화</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="mailto:genre_crusher.0l@icloud.com">제작자</a>
          </li>
        </ul>
      </div>
      <span class="navber-text"></span>
    </div>
  </header>
  <main class="container" style="max-width: 60rem;">
    <script type="text/javascript">
    // 질의 생성
    var myqset = [];
    myqset.push("MBTI");
    myqset.push("2");
    myqset.push("3");
    var myaset = [];
    myaset.push(["ENFJ","ENFP","ENTJ","ENTP","ESFJ","ESFP","ESTJ","ESTP","INFJ","INFP","INTJ","INTP","ISFJ","ISFP","ISTJ","ISTP"]);
    myaset.push(["INTJ","INTP","ISFJ","ISFP","ISTJ","ISTP"]);
    myaset.push(["ENFJ","ENFP","ENTJ","ENTP","INTP","ISFJ","ISFP","ISTJ","ISTP"]);
    var yourqset = [];
    var youraset = [];
    yourqset.push(["마른 사람","보통","통통한 사람"]);
    yourqset.push(["무쌍 좋아","속쌍 좋아","겉쌍 좋아"]);
    yourqset.push(["155cm","165cm","175cm","185cm"]);
    yourqset.push(["츤데레 좋아","츤데레 싫어"]);
    yourqset.push(["귀여운 사람 좋아","귀여운 사람 싫어"]);
    yourqset.push(["안경 좋아","안경 싫어"]);
    yourqset.push(["아이폰 좋아","안드로이드 좋아"]);
    yourqset.push(["칼답 최고","조금은 괜찮아","신경 안써"]);
    yourqset.push(["연하 좋아","동갑 좋아","연상 좋아"]);
    yourqset.push(["무쌍 좋아","다 좋아","유쌍 좋아"]);
    // 답변 생성
    var myanswer = [];
    var youranswer = [];
    </script>
    <article class="row g-3 mb-3" ondragstart="return false" oncontextmenu="return false" onselectstart="return false">
      <section class="col-12 col-sm-6">
        <div class="card border-success">
          <div class="card-header bg-success text-light">
            나는 이런 사람입니다.
          </div>
          <form class="card-body row g-3">
            <script type="text/javascript">
            for (var i = 0; i < myqset.length; i++) {
              myanswer.push("");
              document.write('<div class="col-12">');
              document.write('<label class="form-label">'+myqset[i]+"</label>");
              document.write("<select class='form-select'>");
              for (var j = 0; j < myaset[i].length; j++) {
                document.write('<option value="'+j+'">');
                document.write(myaset[i][j]);
                document.write("</option>");
              }
              document.write("</select>");
              document.write('</div>');
            }
            </script>
          </form>
        </div>
      </section>
      <section class="col-12 col-sm-6">
        <div class="card border-success">
          <div class="card-header bg-success text-light">
            내가 바라는 상대는...
          </div>
          <div class="card-body p-1 pb-0">
            <script type="text/javascript">
            for (var i = 0; i < yourqset.length; i++) {
              youranswer.push([]);
              document.write("<div class=\"btn-group w-100 mb-1\">");
              for (var j = 0; j < yourqset[i].length; j++) {
                youranswer[i].push("");
                document.write("<input id=\"yourq"+i+"-"+j+"\" class=\"btn-check\" type=\"checkbox\" name=\"q"+i+"-"+j+"\" value=\""+j+"\">");
                document.write("<label id=\"for-yourq"+i+"-"+j+"\" class=\"btn btn-outline-success\" for=\"yourq"+i+"-"+j+"\" onclick=\"selectyour("+i+","+j+")\">"+yourqset[i][j]+"</label>");
              }
              document.write("</div>");
            }
            </script>
          </div>
        </div>
      </section>
      <section class="col-12">
        <div class="d-grid">
          <button class="btn btn-success" data-bs-toggle="modal" data-bs-target="#modal-share" onclick="result()">결과 공유</button>
        </div>
      </section>
    </article>
    <div id="modal-share" class="modal">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            아래 링크를 복사해서 공유하세요.
          </div>
          <div class="modal-body">
            <textarea id="share" rows="3" class="form-control"></textarea>
          </div>
        </div>
      </div>
    </div>
  </main>
  <script type="text/javascript">
  var url = window.location.origin + window.location.pathname;
  var parameter = window.location.search;
  for (var i = 0; i < myanswer.length; i++) {
    for (var j = 0; j < myanswer[i].length; j++) {
      var getanswer = new URLSearchParams(parameter).get("myq"+i+"-"+j);
      console.log(getanswer);
      if (getanswer == 1) {
        myanswer[i][j] = 1;
        document.getElementById("myq"+i+"-"+j).checked = true;
      } else {
        document.getElementById("myq"+i+"-"+j).checked = false;
      }
    }
  }
  for (var i = 0; i < youranswer.length; i++) {
    for (var j = 0; j < youranswer[i].length; j++) {
      var getanswer = new URLSearchParams(parameter).get("yourq"+i+"-"+j);
      console.log(getanswer);
      if (getanswer == 1) {
        document.getElementById("yourq"+i+"-"+j).checked = true;
      } else {
        document.getElementById("yourq"+i+"-"+j).checked = false;
      }
    }
  }
  console.log(myanswer)
  console.log(youranswer)
  function result() {
    var stream = "?result=";
    for (var i = 0; i < myanswer.length; i++) {
      for (var j = 0; j < myanswer[i].length; j++) {
        stream = stream+"&myq"+i+"-"+j+"="+myanswer[i][j];
      }
    }
    for (var i = 0; i < youranswer.length; i++) {
      for (var j = 0; j < youranswer[i].length; j++) {
        stream = stream+"&yourq"+i+"-"+j+"="+youranswer[i][j];
      }
    }
    document.getElementById('share').innerText = url + stream;
  }
</script>
<footer class="py-3 bg-kulight">
  <div id="copyright" class="m-auto text-center">
    Copyright © 2021 이런 사람 어디있는 건대?
  </div>
</footer>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
</body>
</html>
